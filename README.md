### 1. 版本历史	

| 修订日期   | 版本号 | 修订人 | 备注 |
| ---------- | ------ | ------ | ---- |
| 2020.10.29 | 1.0    | 唐     |      |

### 2. 参数说明

#### 请求路径

​	ip:port/**stat**

#### 请求方式

​	**POST**

#### 请求参数

| 名称      | 是否必选 | 类型                        | 说明         |
| --------- | -------- | --------------------------- | ------------ |
| rid       | 是       | Integer                     | rid          |
| startTime | 是       | Date（yyyy-MM-dd HH:mm:ss） | 统计起始时间 |
| endTime   | 是       | Date（yyyy-MM-dd HH:mm:ss） | 统计结束时间 |

#### 响应消息

​	存入数据库表 **user_info_statisitc**

| 字段          | 类型     | 备注                             |
| ------------- | -------- | -------------------------------- |
| rid           | Integer  | rid                              |
| start_time    | Datetime | 统计起始时间                     |
| end_time      | Datetime | 统计结束时间                     |
| stat_most     | JSON     | 统计浏览、点赞和评论最多的信息项 |
| stat_usage    | JSON     | 统计功能模块使用分布情况         |
| stat_category | JSON     | 统计用户访问类别分布情况         |
| stat_hotspot  | JSON     | 统计用户浏览热点词云             |
| stat_miss     | JSON     | 统计用户需求热点                 |

### 3. 调用示例

- 请求示例

  ```http
  POST http://localhost:8080/stat
      
  Request Body:
  {
  		"rid": 1,
  		"startTime": "2020-10-01 00:00:00",
      "endTime": "2020-10-28 00:00:00"
  }
  ```

- 成功响应示例

  ```json
  {
      "id": null,
      "rid": 1,
      "start_time": "2020-10-01 00:00:00",
      "end_time": "2020-10-28 00:00:00",
      "stat_most": {
          "mostComment": {
              "infoType": "头条",
              "count": 5,
              "title": "美国防高级研究计划局推进“作战火力”项目阶段3研究工作"
          },
          "mostRead": {
              "infoType": "报告",
              "count": 47,
              "title": "测试报告"
          },
          "mostLike": {
              "infoType": "百科",
              "count": 1,
              "title": "美国海军通过在查尔斯顿实施新的“技术桥”项目加速创新"
          }
      },
      "stat_usage": {
          "头条": 2095,
          "百科": 684,
          "我的": 547
      },
      "stat_category": {
          "头条": {
              "国防工业": 18,
              "55": 2,
              "作战运用": 13,
              "武器装备": 34,
              "热点关注": 14,
              "空军": 1,
              "军队建设": 2,
              "军事技术": 11,
              "装备采办": 7,
              "装备运用": 1,
              "装备技术": 3,
              "战略规划": 13,
              "专家解读": 9
          },
          "百科": {
              "国防工业": 6,
              "装备编配": 1,
              "武器装备": 1,
              "装备信息": 2,
              "空军": 1
          }
      },
      "stat_hotspot": {
          "头条": {
              "计划": 5,
              "持续": 4,
              "预算": 6,
              "美军": 5,
              "财年": 6,
              "公司": 19,
              "试验": 5,
              "陆军": 15,
              "海军": 19,
              "系统": 12,
              "完成": 7,
              "武器": 7,
              "首次": 5,
              "开发": 6,
              "视频": 5,
              "太空": 5,
              "国防": 14,
              "推出": 7,
              "工业": 5,
              "美国": 51,
              "网络": 5,
              "研究": 6,
              "空军": 13,
              "坦克": 5,
              "能力": 7,
              "装备": 6,
              "作战": 10,
              "导弹": 9,
              "澳大利亚": 5,
              "两栖": 5
          },
          "期刊": {
              "进行": 2,
              "美军": 2,
              "决赛": 1,
              "法国": 2,
              "公司": 4,
              "俄罗斯": 3,
              "项目": 2,
              "陆军": 1,
              "信心": 1,
              "增加": 2,
              "海军": 1,
              "系统": 2,
              "雷声": 2,
              "145亿美元": 1,
              "直升机": 1,
              "武器": 2,
              "启动": 2,
              "数量": 2,
              "战术": 1,
              "遭受": 1,
              "国防": 3,
              "工业": 2,
              "美国": 3,
              "轻型": 2,
              "批准": 2,
              "信息": 2,
              "导弹": 2,
              "联合": 2,
              "印度": 4,
              "许可证": 2
          },
          "报告": {
              "测试": 4,
              "报告": 4
          },
          "百科": {
              "美国": 1,
              "计划": 1,
              "2023年": 1,
              "技术": 1,
              "法国": 1,
              "导航": 1,
              "战斗机": 1,
              "舰艇": 1,
              "海军": 1,
              "钻头": 1,
              "集团": 1,
              "空军": 1,
              "装备": 1,
              "航母": 5,
              "研发": 1,
              "新加坡": 1,
              "发射": 1,
              "建立": 1,
              "研磨": 1,
              "网球": 1,
              "防务": 1,
              "卫星": 1,
              "中心": 1
          }
      },
      "stat_miss": {
          "综合搜索": {
              "uu": 5,
              "美国": 4,
              "预算": 190,
              "测试": 5,
              "俄罗斯": 1,
              "歼20": 30,
              "查理曼大帝": 1,
              "个": 1,
              "美国航空": 3,
              "武器": 4,
              "1": 1,
              "北方科技信息": 11,
              "核潜艇": 20,
              "责任人": 3,
              "美国航空周刊": 3,
              "机": 1,
              "歼": 8,
              "飞行": 3,
              "国防": 1
          },
          "头条": {
              "uu": 3,
              "美国": 2,
              "预算": 37,
              "俄罗斯军队": 2,
              "核潜艇": 3,
              "俄罗斯": 1,
              "责任人": 2,
              "歼20": 1,
              "俄罗斯军队无人侦察机": 1,
              "美国航空": 1,
              "武器": 2
          },
          "期刊": {
              "uu": 2,
              "预算": 50,
              "核潜艇": 2,
              "责任人": 7,
              "歼20": 7,
              "机": 4
          },
          "百科": {
              "uu": 3,
              "预算": 25,
              "1": 1,
              "核潜艇": 2,
              "歼20": 4,
              "责任人": 1
          }
      }
  }
  ```

  


